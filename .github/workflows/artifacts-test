name: Artifacts 테스트

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Node.js 설정
      uses: actions/setup-node@v4
      with:
        node-version: '18'
    
    - name: 빌드 정보 생성
      run: node index.js
    
    - name: Artifacts 업로드
      uses: actions/upload-artifact@v4
      with:
        name: build-artifacts
        path: build-info.json
  
  use-artifact:
    runs-on: ubuntu-latest
    needs: build
    
    steps:
    - name: Artifacts 다운로드
      uses: actions/download-artifact@v4
      with:
        name: build-artifacts
    
    - name: 빌드 정보 확인
      run: cat build-info.json